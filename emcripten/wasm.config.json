{
  "//": "Common configuration for both scalar and SIMD builds",
  "sources": [
    "vendor/kissfft/kiss_fft.c",
    "vendor/kissfft/kiss_fftr.c",
    "vendor/kissfft/kiss_fftnd.c",
    "vendor/kissfft/kiss_fftndr.c"
  ],
  "includes": ["vendor/kissfft"],
  "cflags": [
    "-std=c11",
    "-O3",
    "-flto",
    "-fno-math-errno",
    "-fno-exceptions"
  ],
  "emflags": [
    "-s", "WASM=1",
    "-s", "STRICT=1",
    "-s", "DYNAMIC_EXECUTION=0",
    "-s", "FILESYSTEM=0",
    "-s", "MODULARIZE=1",
    "-s", "EXPORT_ES6=1",
    "-s", "EXPORT_NAME=createModule",
    "-s", "ALLOW_MEMORY_GROWTH=1",
    "-s", "INITIAL_MEMORY=4194304",
    "-s", "STACK_SIZE=131072",
    "-s", "MALLOC=emmalloc",
    "-s", "NO_EXIT_RUNTIME=1",
    "-s", "ASSERTIONS=0",
    "-s", "MINIMAL_RUNTIME=0",
    "-s", "EXPORTED_RUNTIME_METHODS=['HEAP8','HEAPU8','HEAP16','HEAPU16','HEAP32','HEAPU32','HEAPF32','stackSave','stackAlloc','stackRestore','UTF8ToString','stringToUTF8','lengthBytesUTF8']",
    "-s", "INCOMING_MODULE_JS_API=['locateFile','wasmBinary']"
  ],
  "exports": [
    "_malloc",
    "_free",
    "_kiss_fft_alloc",
    "_kiss_fft",
    "_kiss_fftr_alloc",
    "_kiss_fftr",
    "_kiss_fftri",
    "_kiss_fftnd_alloc",
    "_kiss_fftnd",
    "_kiss_fftndr_alloc",
    "_kiss_fftndr",
    "_kiss_fftndri",
    "_kiss_fft_next_fast_size",
    "_kiss_fft_cleanup"
  ],
  "outBase": "build/dekzer-kissfft"
}
